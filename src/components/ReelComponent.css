/* Glitch effect for ReelComponent
	 - .reel-glitch layers create RGB split + clip animations
	 - .glitch-active toggles visibility
*/
.reel-glitch {
	position: absolute;
	inset: 0;
	pointer-events: none;
	z-index: 1100; /* sit above the shockwave but below UI controls */
}

.reel-glitch .glitch-layer {
	position: absolute;
	inset: 0;
	mix-blend-mode: screen;
	opacity: 0;
	background-repeat: no-repeat;
	background-size: cover;
	background-position: center;
}

/* RGB split colored layers */
.reel-glitch .glitch-layer.red {
	filter: drop-shadow(0 0 8px rgba(255,60,60,0.9));
	transform: translate3d(0,0,0);
}
.reel-glitch .glitch-layer.green {
	filter: drop-shadow(0 0 8px rgba(60,255,120,0.85));
}
.reel-glitch .glitch-layer.blue {
	filter: drop-shadow(0 0 8px rgba(100,160,255,0.9));
}

/* small horizontal slices animation to emulate glitch scanlines */
@keyframes glitch-clip {
	0% { clip-path: inset(0% 0 90% 0); transform: translateX(0); }
	10% { clip-path: inset(60% 0 10% 0); transform: translateX(-6px) skewX(-2deg); }
	20% { clip-path: inset(10% 0 60% 0); transform: translateX(8px) skewX(2deg); }
	30% { clip-path: inset(30% 0 40% 0); transform: translateX(-4px) skewX(-1deg); }
	40% { clip-path: inset(5% 0 80% 0); transform: translateX(6px); }
	50% { clip-path: inset(40% 0 40% 0); transform: translateX(-8px); }
	60% { clip-path: inset(20% 0 60% 0); transform: translateX(6px) skewX(1deg); }
	70% { clip-path: inset(60% 0 10% 0); transform: translateX(-3px); }
	80% { clip-path: inset(10% 0 70% 0); transform: translateX(4px); }
	90% { clip-path: inset(30% 0 30% 0); transform: translateX(-2px); }
	100% { clip-path: inset(0% 0 90% 0); transform: translateX(0); }
}

/* flicker opacity for layers */
@keyframes glitch-flicker {
	0% { opacity: 0; }
	5% { opacity: 0.85; }
	10% { opacity: 0; }
	12% { opacity: 0.9; }
	18% { opacity: 0; }
	25% { opacity: 0.7; }
	35% { opacity: 0; }
	50% { opacity: 0.8; }
	70% { opacity: 0; }
	100% { opacity: 0; }
}

.glitch-active .reel-glitch .glitch-layer {
	opacity: 0.9;
	animation: glitch-flicker 1.6s linear infinite;
}

.glitch-active .reel-glitch .red {
	animation: glitch-clip 1.1s steps(6, end) infinite, glitch-flicker 1.6s linear infinite;
	transform: translateX(-6px);
}
.glitch-active .reel-glitch .green {
	animation: glitch-clip 1.3s steps(8, end) infinite, glitch-flicker 1.5s linear infinite;
	transform: translateX(4px);
}
.glitch-active .reel-glitch .blue {
	animation: glitch-clip 0.9s steps(5, end) infinite, glitch-flicker 1.2s linear infinite;
	transform: translateX(10px);
}

/* subtle scanline overlay to enhance glitch */
.glitch-active::after {
	content: '';
	position: absolute;
	inset: 0;
	background-image: linear-gradient(rgba(0,0,0,0.02) 50%, rgba(255,255,255,0.01) 50%);
	background-size: 100% 3px;
	pointer-events: none;
	mix-blend-mode: overlay;
	z-index: 1110;
	opacity: 0.6;
}

/* fallback small glow when glitch is active */
.glitch-active {
	box-shadow: 0 0 40px rgba(255,120,60,0.08), 0 0 8px rgba(255,180,80,0.06) inset;
}
